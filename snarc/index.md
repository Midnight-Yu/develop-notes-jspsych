# 自适应旋转任务SNARC实验重编辑

## 2024-02-22
写出来了生成式的伪随机方法，可以说是取得了巨大的质的飞跃。

这不得写个教程？

## 2024-02-21
巨大的问题，试次数组长度过大，古法伪随机几乎无法使用。

大致明白了一种实现方法：按照分类将 sample 数组分成两个盒子，对这个数组从左到右依次生成，如果两个盒子都符合条件则随机选择一种，如果有盒子不符合条件就只选择其一（thanks to 某位机械正太）。

## 2024-02-18
睡了一觉脑子清醒了，发现了问题所在。

要注意，timeline 里面定义的东西只是一个默认值（default_value），而不是一个自动应用到 timeline 里各个 trial 的强制值。所以当 trial 本身有定义时，就会被跳过，这也是为什么正误代码在有自定义的真正实验试次中没有任何标记。

加上了 data 标记，实验结束时会自动给所有试次加代码了，还需要加一个 trial 类别判断。

## 2024-02-17
发现了诡异的问题，data 里标记正误的代码爆炸了。

再实现两个事情，就可以进入最后的小修阶段了。

1. 做出练习试次，实现对 trial 和 practice 的标记。
2. 实现代码对正误的自动判断，把这个部分修好。

这一部分做完之后实验一的程序就完成了。

## 2024-02-15
旋转总之是做出来了，CSS 叠的有点诡异，而且我还没完全理解 CSS 的各种参数属性。

下一步是完善实验数据，有些额外的变量时需要保存的，方便分析，但总之初始的实验一应该可以一两天内写完。

## 2024-02-14
成功学会了 CSS 画框，以及发现了 jsPsych 的 `css_classes` 参数在 `stimulus_duration` 结束后不隐藏边框，所以要写成 in-line 的格式。

下一步解决旋转，写抽样，复刻指导语，复刻一阶段初始实验。

## 2024-02-12
第一个巨大的问题出现了：如何画一个正方形。

~~得上 canvas 了？~~ CSS + div 应该足够了。

理清了要怎么创建一个对应的刺激，正方形的 div 上 outline 就可以了，明天创建实验板子。

## 2024-02-10
大致了解了 CSS 中 rotate 的用法，可以先从一个简单的 trial 入手。

## 2024-02-04
先立一个用 jsPsych 重写毕设实验的 flag。大致实验流程其实心里有数了（thanks to [CORSI Task](../corsi/index.md)）。

重点解决旋转参数自适应的问题，大概率要上 canvas？

总之我这玩意应该比 CORSI 简单，就是现在事太多了得鸽一下。
